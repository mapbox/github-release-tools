const test = require('tap').test;

const token = process.env.GITHUB_TOKEN;
const octokit = require('../src/octokit');
octokit.authenticate({ type: 'token', token });

const getLatestRelease = require('../src/get-latest-release');

test('getLatestRelease', async function(t) {
    const owner = "mapbox";
    const repo = "mapbox-gl-js";

    const latest = await getLatestRelease(octokit, {repo, owner});

    t.equal(latest, "v1.12.0", "Latest release version");
});
